import{a as Ee}from"./chunk-LZZYUYSO.js";import"./chunk-YZQKBSXU.js";import"./chunk-6DGE2S5E.js";import{c as Te}from"./chunk-7LGHEHRK.js";import"./chunk-JRXN4BYE.js";import"./chunk-PK5Y6STH.js";import"./chunk-Y7DWSVT7.js";import{a as Ae}from"./chunk-V6VP5ZUC.js";import{b as De}from"./chunk-5BCZZY3T.js";import"./chunk-AZDBKI4P.js";import"./chunk-FL7BS3BX.js";import{a as ge,c as Fe,d as Ne,e as he}from"./chunk-4HDWGDFD.js";import"./chunk-Q5VVKPDT.js";import"./chunk-OFQES6HH.js";import{a as B,e as M}from"./chunk-WKOMYM5O.js";import{d as E,e as se,g as R,h as le,k as ce,l as ue,o as fe,r as de,v as Ce,w as S,x as we}from"./chunk-6GAZF5ON.js";import"./chunk-JS4TD4O2.js";import"./chunk-H5LORQQP.js";import"./chunk-U5DI5JIS.js";import{a as be,b as ye,c as ze}from"./chunk-F45NW6BW.js";import"./chunk-IK75FPLE.js";import"./chunk-BH5DKTT6.js";import"./chunk-NTMY3SYH.js";import{a as _,b as x,c as ve,d as I,e as A}from"./chunk-PRNJDQ6J.js";import"./chunk-ESTIS766.js";import"./chunk-F5ALC7SR.js";import"./chunk-67WDHJZZ.js";import{a as w}from"./chunk-YN3PI5LS.js";import"./chunk-6E3GIBKW.js";import"./chunk-L7ZCTNHS.js";import"./chunk-NGTZY5Y2.js";import{Aa as f,Ac as p,Bc as T,D as Q,Fc as te,Gc as re,Ha as U,Hc as oe,Ic as ne,Jc as C,Ma as P,Na as W,Ob as X,Qb as d,Sa as J,Ua as h,Uc as ie,Xa as y,_c as ae,cc as i,dc as a,dd as pe,ec as z,ic as Y,ka as q,nd as me,oc as g,qa as N,qc as L,ta as K,ub as m,wa as o,wc as Z,xc as $,yc as ee,z as b}from"./chunk-PHCOYEBV.js";import{g as Ie}from"./chunk-VB56BUGO.js";var ke=["componentTpl"];function je(F,t){if(F&1){let e=Y();i(0,"div",1)(1,"button",2),g("click",function(){P(e);let n=L();return W(n.cancel())}),p(2,"\u53D6\u6D88"),a(),i(3,"button",3),g("click",function(){P(e);let n=L();return W(n.sure())}),p(4,"\u786E\u5B9A"),a()()}}var H=class{constructor(){this.sureEmitter=new y;this.cancelEmitter=new y}},s=class s{constructor(){this.sureEmitter=new y;this.cancelEmitter=new y}sure(){this.sureEmitter.emit()}cancel(){this.cancelEmitter.emit()}};s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=f({type:s,selectors:[["app-global-drawer-foot-tpl"]],viewQuery:function(e,r){if(e&1&&Z(ke,7),e&2){let n;$(n=ee())&&(r.componentTpl=n.first)}},outputs:{sureEmitter:"sureEmitter",cancelEmitter:"cancelEmitter"},standalone:!0,features:[ne([{provide:H,useExisting:s}]),C],decls:2,vars:0,consts:[["componentTpl",""],[1,"end-start-center"],["nz-button","","nzType","default",1,"m-r-8",3,"click"],["nz-button","","nzType","primary",3,"click"]],template:function(e,r){e&1&&X(0,je,5,0,"ng-template",null,0,ie)},dependencies:[A,I,_,x],encapsulation:2,changeDetection:0});var O=s;var Se=new K("drawer action btn token",{providedIn:"root",factory:()=>{let F=o(ae),t=o(U),e=me(O,{environmentInjector:t});return F.attachView(e.hostView),e}});var _e=Ie(Ae());var l=class l{constructor(){this.destroyRef=o(h);this.baseInjector=o(J);this.btnComponentRef=o(Se);this.bsDrawerService=this.baseInjector.get(Te);this.btnTpl=this.btnComponentRef.instance.componentTpl;this.btnComponentRef.instance.sureEmitter.pipe(w(this.destroyRef)).subscribe(()=>this.sure()),this.btnComponentRef.instance.cancelEmitter.pipe(w(this.destroyRef)).subscribe(()=>this.cancel())}show(t,e={},r={}){let n=this.createDrawerConfig(t,e,r);return this.drawerRef=this.bsDrawerService.create(n),this.drawerRef.afterClose.pipe(Q(u=>u||{status:0,value:null}))}createDrawerConfig(t,e={},r={}){let n={nzContent:t,nzClosable:!1,nzContentParams:{params:r},nzFooter:e.nzFooter||this.btnTpl};return _e.default.merge(n,e)}sure(){this.drawerRef.getContentComponent().getCurrentValue().pipe(q(t=>t?this.drawerRef.close({status:1,modalValue:t}):b(!1)),w(this.destroyRef)).subscribe()}cancel(){this.drawerRef.close({status:0,value:null})}};l.\u0275fac=function(e){return new(e||l)},l.\u0275prov=N({token:l,factory:l.\u0275fac,providedIn:"root"});var j=l;var D=class D{constructor(){this.fb=o(Ce);this.params={name:""};this.validateForm=this.fb.group({password:["",[se.required]]})}getCurrentValue(){return De(this.validateForm)?b(this.validateForm.value):b(!1)}};D.\u0275fac=function(e){return new(e||D)},D.\u0275cmp=f({type:D,selectors:[["app-ex-drawer-drawer"]],standalone:!0,features:[C],decls:10,vars:3,consts:[[1,"sp-28","text-error"],[3,"formGroup"],["nzRequired",""],["nzErrorTip","\u5FC5\u586B\u9879"],["formControlName","password","nz-input","",3,"placeholder"]],template:function(e,r){e&1&&(i(0,"p"),p(1," \u5E26\u8FC7\u6765\u7684\u503C\uFF1A "),i(2,"span",0),p(3),a()(),i(4,"form",1)(5,"nz-form-item")(6,"nz-form-label",2),p(7,"\u8BD5\u4E00\u8BD5\u8F93\u5165\u503C\u540E\u70B9\u51FB\u786E\u5B9A"),a(),i(8,"nz-form-control",3),z(9,"input",4),a()()()),e&2&&(m(3),T(r.params.name),m(),d("formGroup",r.validateForm),m(5),d("placeholder","\u8F93\u5165\u7684\u5185\u5BB9\u70B9\u51FB\u786E\u5B9A\uFF0C\u8FD4\u56DE\u7ED9\u5916\u90E8"))},dependencies:[S,ue,E,R,le,we,fe,de,ze,ye,be,he,ge,Ne,Fe,M,B],encapsulation:2,changeDetection:0});var G=D;var c=class c{constructor(){this.drawerWrapService=o(j)}getContentComponent(){return G}show(t={},e){return this.drawerWrapService.show(this.getContentComponent(),t,e)}};c.\u0275fac=function(e){return new(e||c)},c.\u0275prov=N({token:c,factory:c.\u0275fac,providedIn:"root"});var V=c;var v=class v{constructor(){this.pageHeaderInfo={title:"\u62BD\u5C49\u5C01\u88C5",breadcrumb:["\u9996\u9875","\u62BD\u5C49\u5C01\u88C5"],desc:"\u5C0F\u5C0F\u7684\u62BD\u5C49\u91CC\u9762\u85CF\u7740\u6211\u597D\u591A\u5927\u5927\u7684\u68A6\u60F3"};this.data="";this.dataFromDrawer="";this.destroyRef=o(h);this.drawerService=o(V);this.cdr=o(pe)}showDrawer(){this.drawerService.show({nzTitle:"\u670D\u52A1\u521B\u5EFA"},{name:this.data}).pipe(w(this.destroyRef)).subscribe(({modalValue:t,status:e})=>{e!==0&&(this.dataFromDrawer=t.password,this.cdr.markForCheck())})}};v.\u0275fac=function(e){return new(e||v)},v.\u0275cmp=f({type:v,selectors:[["app-ex-drawer"]],standalone:!0,features:[C],decls:9,vars:4,consts:[[3,"pageHeaderInfo"],[1,"normal-table-wrap"],["nz-input","",1,"m-b-20",3,"ngModelChange","placeholder","ngModel"],[1,"sp-28","text-error"],["nz-button","",3,"click"]],template:function(e,r){e&1&&(z(0,"app-page-header",0),i(1,"div",1)(2,"input",2),oe("ngModelChange",function(u){return re(r.data,u)||(r.data=u),u}),a(),p(3," \u8FD9\u662F\u4ECE\u62BD\u5C49\u4E2D\u8FD4\u56DE\u7684\u503C: "),i(4,"span",3),p(5),a(),z(6,"br"),i(7,"button",4),g("click",function(){return r.showDrawer()}),p(8,"\u670D\u52A1\u7684\u65B9\u5F0F\u521B\u5EFA"),a()()),e&2&&(d("pageHeaderInfo",r.pageHeaderInfo),m(2),d("placeholder","\u4F20\u5165\u5230\u62BD\u5C49\u7684\u503C"),te("ngModel",r.data),m(3),T(r.dataFromDrawer))},dependencies:[Ee,M,B,S,E,R,ce,A,I,_,x,ve],encapsulation:2,changeDetection:0});var xe=v;export{xe as ExDrawerComponent};
