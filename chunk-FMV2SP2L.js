import{a as Qt}from"./chunk-FZHGVVNJ.js";import{c as lt,e as pt}from"./chunk-KZXNDGZT.js";import{a as At,d as U,e as Bt}from"./chunk-CUBBA5TV.js";import{h as Z}from"./chunk-BE5UFXKQ.js";import{a as $t,b as Vt,e as Ft,l as W}from"./chunk-7PKCM743.js";import{a as ot,b as st}from"./chunk-MCCZJH2J.js";import{L as nt,M as kt,W as jt,X as O,a as Ot,ca as rt,da as at,ea as Mt}from"./chunk-NYWSPOYR.js";import{d as Rt,r as it,w as Dt}from"./chunk-ZWOUEGUH.js";import{Aa as V,Ac as R,Ba as F,Bc as Q,Ca as zt,Cb as Ct,Cc as et,Eb as Et,Gb as xt,Hb as Tt,Ic as It,Jc as P,K as X,La as K,Lb as vt,Lc as Nt,Ma as f,Na as y,Ob as h,Qb as l,Rb as A,Sa as _t,Sb as tt,Uc as q,Va as M,Xa as g,_ as yt,a as mt,cc as z,d as H,dc as _,dd as L,ec as j,fc as C,g as Y,gc as E,ha as J,hd as D,i as ft,ia as d,ic as S,id as St,n as G,oc as x,qc as c,r as N,ra as $,rc as bt,sc as wt,ub as p,vb as a,wa as gt,wc as T,xc as v,yc as b,zc as B}from"./chunk-XNENNAZS.js";var ct=(()=>{let o=class o{};o.\u0275fac=function(i){return new(i||o)},o.\u0275dir=zt({type:o,selectors:[["button","nz-trans-button",""]],hostVars:8,hostBindings:function(i,n){i&2&&A("border","0")("background","transparent")("padding","0")("line-height","inherit")},standalone:!0});let e=o;return e})(),dt=(()=>{let o=class o{};o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=F({type:o}),o.\u0275inj=$({});let e=o;return e})();function Zt(e,o){if(e&1&&(C(0),j(1,"span",2),E()),e&2){let s=o.$implicit;p(),l("nzType",s)}}var Ut=["textarea"];function Ht(e,o){if(e&1){let s=S();z(0,"textarea",3,1),x("blur",function(){f(s);let i=c();return y(i.confirm())}),_(),z(2,"button",4),x("click",function(){f(s);let i=c();return y(i.confirm())}),j(3,"span",5),_()}}function Yt(e,o){if(e&1&&(C(0),j(1,"span",8),E()),e&2){let s=o.$implicit;p(),l("nzType",s)}}function Gt(e,o){if(e&1){let s=S();z(0,"button",6),x("click",function(){f(s);let i=c();return y(i.onClick())}),h(1,Yt,2,1,"ng-container",7),_()}if(e&2){let s=c();l("nzTooltipTitle",s.tooltip===null?null:s.tooltip||(s.locale==null?null:s.locale.edit)),p(),l("nzStringTemplateOutlet",s.icon)}}var Xt=["ellipsisContainer"],Jt=["expandable"],Kt=["contentTemplate"],te=["*"],ee=e=>({content:e});function ie(e,o){e&1&&wt(0,0,["*ngIf","!content"])}function ne(e,o){if(e&1&&(h(0,ie,1,0,"ng-content",4),R(1)),e&2){let s=o.content;l("ngIf",!s),p(),et(" ",s," ")}}function oe(e,o){}function se(e,o){if(e&1&&(C(0),R(1),E()),e&2){let s=c(3);p(),Q(s.nzSuffix)}}function re(e,o){if(e&1&&(C(0),h(1,oe,0,0,"ng-template",8)(2,se,2,1,"ng-container",4),E()),e&2){let s=c(2),t=B(1);p(),l("ngTemplateOutlet",t)("ngTemplateOutletContext",Nt(3,ee,s.nzContent)),p(),l("ngIf",s.nzSuffix)}}function ae(e,o){if(e&1&&(C(0),R(1),E()),e&2){let s=c(3);p(),Q(s.ellipsisStr)}}function le(e,o){if(e&1&&(C(0),R(1),E()),e&2){let s=c(3);p(),Q(s.nzSuffix)}}function pe(e,o){if(e&1){let s=S();z(0,"a",10,3),x("click",function(){f(s);let i=c(3);return y(i.onExpand())}),R(2),_()}if(e&2){let s=c(3);p(2),et(" ",s.locale==null?null:s.locale.expand," ")}}function ce(e,o){if(e&1&&(j(0,"span",null,2),h(2,ae,2,1,"ng-container",4)(3,le,2,1,"ng-container",4)(4,pe,3,1,"a",9)),e&2){let s=c(2);p(2),l("ngIf",s.isEllipsis),p(),l("ngIf",s.nzSuffix),p(),l("ngIf",s.nzExpandable&&s.isEllipsis)}}function de(e,o){if(e&1&&(C(0),h(1,re,3,5,"ng-container",7)(2,ce,5,3,"ng-template",null,1,q),E()),e&2){let s=B(3),t=c();p(),l("ngIf",t.expanded||!t.hasOperationsWithEllipsis&&t.nzEllipsisRows===1&&!t.hasEllipsisObservers||t.canCssEllipsis||t.nzSuffix&&t.expanded)("ngIfElse",s)}}function he(e,o){if(e&1){let s=S();z(0,"nz-text-edit",11),x("endEditing",function(i){f(s);let n=c();return y(n.onEndEditing(i))})("startEditing",function(){f(s);let i=c();return y(i.onStartEditing())}),_()}if(e&2){let s=c();l("text",s.nzContent)("icon",s.nzEditIcon)("tooltip",s.nzEditTooltip)}}function ue(e,o){if(e&1){let s=S();z(0,"nz-text-copy",12),x("textCopy",function(i){f(s);let n=c();return y(n.onTextCopy(i))}),_()}if(e&2){let s=c();l("text",s.copyText)("tooltips",s.nzCopyTooltips)("icons",s.nzCopyIcons)}}var ht=(()=>{let o=class o{constructor(t,i,n,r){this.host=t,this.cdr=i,this.clipboard=n,this.i18n=r,this.copied=!1,this.nativeElement=this.host.nativeElement,this.copyTooltip=null,this.copedTooltip=null,this.copyIcon="copy",this.copedIcon="check",this.destroy$=new Y,this.icons=["copy","check"],this.textCopy=new g}ngOnInit(){this.i18n.localeChange.pipe(d(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.updateTooltips(),this.cdr.markForCheck()})}ngOnChanges(t){let{tooltips:i,icons:n}=t;i&&this.updateTooltips(),n&&this.updateIcons()}ngOnDestroy(){clearTimeout(this.copyId),this.destroy$.next(!0),this.destroy$.complete()}onClick(){if(this.copied)return;this.copied=!0,this.cdr.detectChanges();let t=this.text;this.textCopy.emit(t),this.clipboard.copy(t),this.onCopied()}onCopied(){clearTimeout(this.copyId),this.copyId=setTimeout(()=>{this.copied=!1,this.cdr.detectChanges()},3e3)}updateTooltips(){if(this.tooltips===null)this.copedTooltip=null,this.copyTooltip=null;else if(Array.isArray(this.tooltips)){let[t,i]=this.tooltips;this.copyTooltip=t||this.locale?.copy,this.copedTooltip=i||this.locale?.copied}else this.copyTooltip=this.locale?.copy,this.copedTooltip=this.locale?.copied;this.cdr.markForCheck()}updateIcons(){let[t,i]=this.icons;this.copyIcon=t,this.copedIcon=i,this.cdr.markForCheck()}};o.\u0275fac=function(i){return new(i||o)(a(M),a(L),a(Qt),a(Z))},o.\u0275cmp=V({type:o,selectors:[["nz-text-copy"]],inputs:{text:"text",tooltips:"tooltips",icons:"icons"},outputs:{textCopy:"textCopy"},exportAs:["nzTextCopy"],standalone:!0,features:[K,P],decls:2,vars:4,consts:[["type","button","nz-tooltip","","nz-trans-button","",1,"ant-typography-copy",3,"click","nzTooltipTitle"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(i,n){i&1&&(z(0,"button",0),x("click",function(){return n.onClick()}),h(1,Zt,2,1,"ng-container",1),_()),i&2&&(tt("ant-typography-copy-success",n.copied),l("nzTooltipTitle",n.copied?n.copedTooltip:n.copyTooltip),p(),l("nzStringTemplateOutlet",n.copied?n.copedIcon:n.copyIcon))},dependencies:[pt,lt,dt,ct,at,rt,st,ot],encapsulation:2,changeDetection:0});let e=o;return e})(),ut=(()=>{let o=class o{set textarea(t){this.textarea$.next(t)}constructor(t,i,n,r,w){this.ngZone=t,this.host=i,this.cdr=n,this.i18n=r,this.destroy$=w,this.editing=!1,this.icon="edit",this.startEditing=new g,this.endEditing=new g(!0),this.nativeElement=this.host.nativeElement,this.textarea$=new ft(null),this.injector=gt(_t)}ngOnInit(){this.i18n.localeChange.pipe(d(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.textarea$.pipe(J(t=>t?new H(i=>this.ngZone.runOutsideAngular(()=>X(t.nativeElement,"keydown").subscribe(i))):G),d(this.destroy$)).subscribe(t=>{t.keyCode!==27&&t.keyCode!==13||this.ngZone.run(()=>{t.keyCode===27?this.onCancel():this.onEnter(t),this.cdr.markForCheck()})}),this.textarea$.pipe(J(t=>t?new H(i=>this.ngZone.runOutsideAngular(()=>X(t.nativeElement,"input").subscribe(i))):G),d(this.destroy$)).subscribe(t=>{this.currentText=t.target.value})}onClick(){this.beforeText=this.text,this.currentText=this.beforeText,this.editing=!0,this.startEditing.emit(),this.focusAndSetValue()}confirm(){this.editing=!1,this.endEditing.emit(this.currentText)}onEnter(t){t.stopPropagation(),t.preventDefault(),this.confirm()}onCancel(){this.currentText=this.beforeText,this.confirm()}focusAndSetValue(){let{injector:t}=this;xt(()=>{this.textarea$.pipe(yt(i=>i!=null),d(this.destroy$)).subscribe(i=>{i.nativeElement.focus(),i.nativeElement.value=this.currentText||"",this.autosizeDirective.resizeToFitContent(),this.cdr.markForCheck()})},{injector:t})}};o.\u0275fac=function(i){return new(i||o)(a(Et),a(M),a(L),a(Z),a(W))},o.\u0275cmp=V({type:o,selectors:[["nz-text-edit"]],viewQuery:function(i,n){if(i&1&&(T(Ut,5),T(U,5)),i&2){let r;v(r=b())&&(n.textarea=r.first),v(r=b())&&(n.autosizeDirective=r.first)}},inputs:{text:"text",icon:"icon",tooltip:"tooltip"},outputs:{startEditing:"startEditing",endEditing:"endEditing"},exportAs:["nzTextEdit"],standalone:!0,features:[It([W]),P],decls:3,vars:2,consts:[["notEditing",""],["textarea",""],[3,"ngIf","ngIfElse"],["nz-input","","nzAutosize","",3,"blur"],["nz-trans-button","",1,"ant-typography-edit-content-confirm",3,"click"],["nz-icon","","nzType","enter"],["nz-tooltip","","nz-trans-button","",1,"ant-typography-edit",3,"click","nzTooltipTitle"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(i,n){if(i&1&&h(0,Ht,4,0,"ng-template",2)(1,Gt,2,2,"ng-template",null,0,q),i&2){let r=B(2);l("ngIf",n.editing)("ngIfElse",r)}},dependencies:[it,Bt,At,U,dt,ct,at,rt,pt,lt,st,ot],encapsulation:2,changeDetection:0});let e=o;return e})(),me="typography",fe="ant-typography-expand",ye=(()=>{let o=class o{get hasEllipsisObservers(){return this.nzOnEllipsis.observers.length>0}get canCssEllipsis(){return this.nzEllipsis&&this.cssEllipsis&&!this.expanded&&!this.hasEllipsisObservers}get hasOperationsWithEllipsis(){return(this.nzCopyable||this.nzEditable||this.nzExpandable)&&this.nzEllipsis}get copyText(){return typeof this.nzCopyText=="string"?this.nzCopyText:this.nzContent}constructor(t,i,n,r,w,k,I,u,m,Pt){this.nzConfigService=t,this.host=i,this.cdr=n,this.viewContainerRef=r,this.renderer=w,this.platform=k,this.i18n=I,this.resizeService=m,this.directionality=Pt,this._nzModuleName=me,this.nzCopyable=!1,this.nzEditable=!1,this.nzDisabled=!1,this.nzExpandable=!1,this.nzEllipsis=!1,this.nzCopyTooltips=void 0,this.nzCopyIcons=["copy","check"],this.nzEditTooltip=void 0,this.nzEditIcon="edit",this.nzEllipsisRows=1,this.nzContentChange=new g,this.nzCopy=new g,this.nzExpandChange=new g,this.nzOnEllipsis=new g,this.expandableBtnElementCache=null,this.editing=!1,this.cssEllipsis=!1,this.isEllipsis=!0,this.expanded=!1,this.ellipsisStr="...",this.dir="ltr",this.viewInit=!1,this.rfaId=-1,this.destroy$=new Y,this.windowResizeSubscription=mt.EMPTY,this.document=u}onTextCopy(t){this.nzCopy.emit(t)}onStartEditing(){this.editing=!0}onEndEditing(t){this.editing=!1,this.nzContentChange.emit(t),this.nzContent===t&&this.renderOnNextFrame(),this.cdr.markForCheck()}onExpand(){this.isEllipsis=!1,this.expanded=!0,this.nzExpandChange.emit(),this.nzOnEllipsis.emit(!1)}canUseCSSEllipsis(){return this.nzEditable||this.nzCopyable||this.nzExpandable||this.nzSuffix||this.hasEllipsisObservers?!1:this.nzEllipsisRows===1?nt("textOverflow"):nt("webkitLineClamp")}renderOnNextFrame(){$t(this.rfaId),!(!this.viewInit||!this.nzEllipsis||this.nzEllipsisRows<0||this.expanded||!this.platform.isBrowser)&&(this.rfaId=Vt(()=>{this.syncEllipsis()}))}getOriginContentViewRef(){let t=this.viewContainerRef.createEmbeddedView(this.contentTemplate,{content:this.nzContent});return t.detectChanges(),{viewRef:t,removeView:()=>{this.viewContainerRef.remove(this.viewContainerRef.indexOf(t))}}}syncEllipsis(){if(this.cssEllipsis)return;let{viewRef:t,removeView:i}=this.getOriginContentViewRef(),n=[this.textCopyRef,this.textEditRef].filter(m=>m&&m.nativeElement).map(m=>m.nativeElement),r=this.getExpandableBtnElement();r&&n.push(r);let{contentNodes:w,text:k,ellipsis:I}=kt(this.host.nativeElement,this.nzEllipsisRows,t.rootNodes,n,this.ellipsisStr,this.nzSuffix);i(),this.ellipsisText=k,I!==this.isEllipsis&&(this.isEllipsis=I,this.nzOnEllipsis.emit(I));let u=this.ellipsisContainer.nativeElement;for(;u.firstChild;)this.renderer.removeChild(u,u.firstChild);w.forEach(m=>{this.renderer.appendChild(u,m.cloneNode(!0))}),this.cdr.markForCheck()}getExpandableBtnElement(){if(this.nzExpandable){let t=this.locale?this.locale.expand:"",i=this.expandableBtnElementCache;if(!i||i.innerText===t){let n=this.document.createElement("a");n.className=fe,n.innerText=t,this.expandableBtnElementCache=n}return this.expandableBtnElementCache}else return this.expandableBtnElementCache=null,null}renderAndSubscribeWindowResize(){this.platform.isBrowser&&(this.windowResizeSubscription.unsubscribe(),this.cssEllipsis=this.canUseCSSEllipsis(),this.renderOnNextFrame(),this.windowResizeSubscription=this.resizeService.subscribe().pipe(d(this.destroy$)).subscribe(()=>this.renderOnNextFrame()))}ngOnInit(){this.i18n.localeChange.pipe(d(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.directionality.change?.pipe(d(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.viewInit=!0,this.renderAndSubscribeWindowResize()}ngOnChanges(t){let{nzCopyable:i,nzEditable:n,nzExpandable:r,nzEllipsis:w,nzContent:k,nzEllipsisRows:I,nzSuffix:u}=t;(i||n||r||w||k||I||u)&&this.nzEllipsis&&(this.expanded?this.windowResizeSubscription.unsubscribe():this.renderAndSubscribeWindowResize())}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.expandableBtnElementCache=null,this.windowResizeSubscription.unsubscribe()}};o.\u0275fac=function(i){return new(i||o)(a(jt),a(M),a(L),a(Tt),a(Ct),a(Ot),a(Z),a(Rt),a(Ft),a(Mt,8))},o.\u0275cmp=V({type:o,selectors:[["nz-typography"],["","nz-typography",""],["p","nz-paragraph",""],["span","nz-text",""],["h1","nz-title",""],["h2","nz-title",""],["h3","nz-title",""],["h4","nz-title",""]],viewQuery:function(i,n){if(i&1&&(T(ut,5),T(ht,5),T(Xt,5),T(Jt,5),T(Kt,5)),i&2){let r;v(r=b())&&(n.textEditRef=r.first),v(r=b())&&(n.textCopyRef=r.first),v(r=b())&&(n.ellipsisContainer=r.first),v(r=b())&&(n.expandableBtn=r.first),v(r=b())&&(n.contentTemplate=r.first)}},hostVars:26,hostBindings:function(i,n){i&2&&(A("-webkit-line-clamp",n.canCssEllipsis&&n.nzEllipsisRows>1?n.nzEllipsisRows:null),tt("ant-typography",!n.editing)("ant-typography-rtl",n.dir==="rtl")("ant-typography-edit-content",n.editing)("ant-typography-secondary",n.nzType==="secondary")("ant-typography-warning",n.nzType==="warning")("ant-typography-danger",n.nzType==="danger")("ant-typography-success",n.nzType==="success")("ant-typography-disabled",n.nzDisabled)("ant-typography-ellipsis",n.nzEllipsis&&!n.expanded)("ant-typography-single-line",n.nzEllipsis&&n.nzEllipsisRows===1)("ant-typography-ellipsis-single-line",n.canCssEllipsis&&n.nzEllipsisRows===1)("ant-typography-ellipsis-multiple-line",n.canCssEllipsis&&n.nzEllipsisRows>1))},inputs:{nzCopyable:[2,"nzCopyable","nzCopyable",D],nzEditable:[2,"nzEditable","nzEditable",D],nzDisabled:[2,"nzDisabled","nzDisabled",D],nzExpandable:[2,"nzExpandable","nzExpandable",D],nzEllipsis:[2,"nzEllipsis","nzEllipsis",D],nzCopyTooltips:"nzCopyTooltips",nzCopyIcons:"nzCopyIcons",nzEditTooltip:"nzEditTooltip",nzEditIcon:"nzEditIcon",nzContent:"nzContent",nzEllipsisRows:[2,"nzEllipsisRows","nzEllipsisRows",St],nzType:"nzType",nzCopyText:"nzCopyText",nzSuffix:"nzSuffix"},outputs:{nzContentChange:"nzContentChange",nzCopy:"nzCopy",nzExpandChange:"nzExpandChange",nzOnEllipsis:"nzOnEllipsis"},exportAs:["nzTypography"],standalone:!0,features:[vt,K,P],ngContentSelectors:te,decls:5,vars:3,consts:[["contentTemplate",""],["jsEllipsis",""],["ellipsisContainer",""],["expandable",""],[4,"ngIf"],[3,"text","icon","tooltip","endEditing","startEditing",4,"ngIf"],[3,"text","tooltips","icons","textCopy",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","ant-typography-expand",3,"click",4,"ngIf"],[1,"ant-typography-expand",3,"click"],[3,"endEditing","startEditing","text","icon","tooltip"],[3,"textCopy","text","tooltips","icons"]],template:function(i,n){i&1&&(bt(),h(0,ne,2,2,"ng-template",null,0,q)(2,de,4,2,"ng-container",4)(3,he,1,3,"nz-text-edit",5)(4,ue,1,3,"nz-text-copy",6)),i&2&&(p(2),l("ngIf",!n.editing),p(),l("ngIf",n.nzEditable),p(),l("ngIf",n.nzCopyable&&!n.editing))},dependencies:[it,Dt,ut,ht],encapsulation:2,changeDetection:0});let e=o;return N([O()],e.prototype,"nzCopyTooltips",void 0),N([O()],e.prototype,"nzCopyIcons",void 0),N([O()],e.prototype,"nzEditTooltip",void 0),N([O()],e.prototype,"nzEditIcon",void 0),N([O()],e.prototype,"nzEllipsisRows",void 0),e})(),Xe=(()=>{let o=class o{};o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=F({type:o}),o.\u0275inj=$({imports:[ye,ht,ut]});let e=o;return e})();export{ye as a,Xe as b};
