import{a as Re,b as $,g as Se}from"./chunk-IRQU3GS3.js";import{B as w,E as P,I as D,K as v,b as _,m as Ce}from"./chunk-LMT2TBSV.js";import{m as Me}from"./chunk-7PKCM743.js";import{W as ze,X as we,a as ge,ea as be}from"./chunk-NYWSPOYR.js";import{p as ve,v as ye}from"./chunk-ZWOUEGUH.js";import{Aa as U,Ba as k,Ca as N,Cb as A,D as I,E as X,Eb as J,Hb as x,Ic as ue,Jc as me,K as f,La as q,Lb as ee,Ma as R,N as p,Na as S,O as h,Ob as te,P as L,Qb as ie,Sb as ne,Va as T,W as M,Xa as j,Y as H,_ as Z,a as O,cc as oe,dc as se,dd as fe,g as C,ha as G,hd as z,i as b,ia as y,ic as re,n as Y,oc as ae,qa as Q,qc as g,r as W,ra as E,rc as le,sc as ce,va as V,vb as s,wc as de,xb as K,xc as he,yc as pe}from"./chunk-XNENNAZS.js";var Ee=["*"];function Ve(n,e){if(n&1){let l=re();oe(0,"div",0),ae("@slideMotion.done",function(t){R(l);let o=g();return S(o.onAnimationEvent(t))})("mouseenter",function(){R(l);let t=g();return S(t.setMouseState(!0))})("mouseleave",function(){R(l);let t=g();return S(t.setMouseState(!1))}),ce(1),se()}if(n&2){let l=g();ne("ant-dropdown-rtl",l.dir==="rtl"),ie("ngClass",l.nzOverlayClassName)("ngStyle",l.nzOverlayStyle)("@slideMotion",void 0)("@.disabled",!!(l.noAnimation!=null&&l.noAnimation.nzNoAnimation))("nzNoAnimation",l.noAnimation==null?null:l.noAnimation.nzNoAnimation)}}var ke="dropDown",Ne=[v.bottomLeft,v.bottomRight,v.topRight,v.topLeft],pt=(()=>{let e=class e{setDropdownMenuValue(i,t){this.nzDropdownMenu&&this.nzDropdownMenu.setValue(i,t)}constructor(i,t,o,a,d,r){this.nzConfigService=i,this.elementRef=t,this.overlay=o,this.renderer=a,this.viewContainerRef=d,this.platform=r,this._nzModuleName=ke,this.overlayRef=null,this.destroy$=new C,this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.elementRef.nativeElement).withLockedPosition().withTransformOriginOn(".ant-dropdown"),this.inputVisible$=new b(!1),this.nzTrigger$=new b("hover"),this.overlayClose$=new C,this.nzDropdownMenu=null,this.nzTrigger="hover",this.nzMatchWidthElement=null,this.nzBackdrop=!1,this.nzClickHide=!0,this.nzDisabled=!1,this.nzVisible=!1,this.nzOverlayClassName="",this.nzOverlayStyle={},this.nzPlacement="bottomLeft",this.nzVisibleChange=new j}ngAfterViewInit(){if(this.nzDropdownMenu){let i=this.elementRef.nativeElement,t=p(f(i,"mouseenter").pipe(M(!0)),f(i,"mouseleave").pipe(M(!1))),o=this.nzDropdownMenu.mouseState$,a=p(o,t),d=f(i,"click").pipe(I(()=>!this.nzVisible)),r=this.nzTrigger$.pipe(G(c=>c==="hover"?a:c==="click"?d:Y)),u=this.nzDropdownMenu.descendantMenuItemClick$.pipe(h(()=>this.nzClickHide),M(!1)),$e=p(r,u,this.overlayClose$).pipe(h(()=>!this.nzDisabled)),Oe=p(this.inputVisible$,$e);X([Oe,this.nzDropdownMenu.isChildSubMenuOpen$]).pipe(I(([c,F])=>c||F),L(150),H(),h(()=>this.platform.isBrowser),y(this.destroy$)).subscribe(c=>{let B=(this.nzMatchWidthElement?this.nzMatchWidthElement.nativeElement:i).getBoundingClientRect().width;if(this.nzVisible!==c&&this.nzVisibleChange.emit(c),this.nzVisible=c,c){if(!this.overlayRef)this.overlayRef=this.overlay.create({positionStrategy:this.positionStrategy,minWidth:B,disposeOnNavigation:!0,hasBackdrop:this.nzBackdrop&&this.nzTrigger==="click",scrollStrategy:this.overlay.scrollStrategies.reposition()}),p(this.overlayRef.backdropClick(),this.overlayRef.detachments(),this.overlayRef.outsidePointerEvents().pipe(h(m=>!this.elementRef.nativeElement.contains(m.target))),this.overlayRef.keydownEvents().pipe(h(m=>m.keyCode===27&&!Me(m)))).pipe(y(this.destroy$)).subscribe(()=>{this.overlayClose$.next(!1)});else{let m=this.overlayRef.getConfig();m.minWidth=B}this.positionStrategy.withPositions([v[this.nzPlacement],...Ne]),(!this.portal||this.portal.templateRef!==this.nzDropdownMenu.templateRef)&&(this.portal=new _(this.nzDropdownMenu.templateRef,this.viewContainerRef)),this.overlayRef.attach(this.portal)}else this.overlayRef&&this.overlayRef.detach()}),this.nzDropdownMenu.animationStateChange$.pipe(y(this.destroy$)).subscribe(c=>{c.toState==="void"&&(this.overlayRef&&this.overlayRef.dispose(),this.overlayRef=null)})}}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}ngOnChanges(i){let{nzVisible:t,nzDisabled:o,nzOverlayClassName:a,nzOverlayStyle:d,nzTrigger:r}=i;if(r&&this.nzTrigger$.next(this.nzTrigger),t&&this.inputVisible$.next(this.nzVisible),o){let u=this.elementRef.nativeElement;this.nzDisabled?(this.renderer.setAttribute(u,"disabled",""),this.inputVisible$.next(!1)):this.renderer.removeAttribute(u,"disabled")}a&&this.setDropdownMenuValue("nzOverlayClassName",this.nzOverlayClassName),d&&this.setDropdownMenuValue("nzOverlayStyle",this.nzOverlayStyle)}};e.\u0275fac=function(t){return new(t||e)(s(ze),s(T),s(P),s(A),s(x),s(ge))},e.\u0275dir=N({type:e,selectors:[["","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-trigger"],inputs:{nzDropdownMenu:"nzDropdownMenu",nzTrigger:"nzTrigger",nzMatchWidthElement:"nzMatchWidthElement",nzBackdrop:[2,"nzBackdrop","nzBackdrop",z],nzClickHide:[2,"nzClickHide","nzClickHide",z],nzDisabled:[2,"nzDisabled","nzDisabled",z],nzVisible:[2,"nzVisible","nzVisible",z],nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzPlacement:"nzPlacement"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzDropdown"],standalone:!0,features:[ee,q]});let n=e;return W([we()],n.prototype,"nzBackdrop",void 0),n})(),De=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=k({type:e}),e.\u0275inj=E({});let n=e;return n})(),ut=(()=>{let e=class e{constructor(){}};e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=N({type:e,selectors:[["a","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-link"],standalone:!0});let n=e;return n})();var mt=(()=>{let e=class e{onAnimationEvent(i){this.animationStateChange$.emit(i)}setMouseState(i){this.mouseState$.next(i)}setValue(i,t){this[i]=t,this.cdr.markForCheck()}constructor(i,t,o,a,d,r,u){this.cdr=i,this.elementRef=t,this.renderer=o,this.viewContainerRef=a,this.nzMenuService=d,this.directionality=r,this.noAnimation=u,this.mouseState$=new b(!1),this.isChildSubMenuOpen$=this.nzMenuService.isChildSubMenuOpen$,this.descendantMenuItemClick$=this.nzMenuService.descendantMenuItemClick$,this.animationStateChange$=new j,this.nzOverlayClassName="",this.nzOverlayStyle={},this.dir="ltr",this.destroy$=new C}ngOnInit(){this.directionality.change?.pipe(y(this.destroy$)).subscribe(i=>{this.dir=i,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterContentInit(){this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};e.\u0275fac=function(t){return new(t||e)(s(fe),s(T),s(A),s(x),s($),s(be,8),s(D,9))},e.\u0275cmp=U({type:e,selectors:[["nz-dropdown-menu"]],viewQuery:function(t,o){if(t&1&&de(K,7),t&2){let a;he(a=pe())&&(o.templateRef=a.first)}},exportAs:["nzDropdownMenu"],standalone:!0,features:[ue([$,{provide:Re,useValue:!0}]),me],ngContentSelectors:Ee,decls:1,vars:0,consts:[[1,"ant-dropdown",3,"mouseenter","mouseleave","ngClass","ngStyle","nzNoAnimation"]],template:function(t,o){t&1&&(le(),te(0,Ve,2,7,"ng-template"))},dependencies:[ve,ye,D],encapsulation:2,data:{animation:[Ce]},changeDetection:0});let n=e;return n})(),ft=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=k({type:e}),e.\u0275inj=E({imports:[De,Se]});let n=e;return n})(),Te=[new w({originX:"start",originY:"top"},{overlayX:"start",overlayY:"top"}),new w({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new w({originX:"start",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new w({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"})],vt=(()=>{let e=class e{constructor(i,t){this.ngZone=i,this.overlay=t,this.overlayRef=null,this.closeSubscription=O.EMPTY}create(i,t){this.close(!0);let{x:o,y:a}=i;i instanceof MouseEvent&&i.preventDefault();let d=this.overlay.position().flexibleConnectedTo({x:o,y:a}).withPositions(Te).withTransformOriginOn(".ant-dropdown");return this.overlayRef=this.overlay.create({positionStrategy:d,disposeOnNavigation:!0,scrollStrategy:this.overlay.scrollStrategies.close()}),this.closeSubscription=new O,this.closeSubscription.add(t.descendantMenuItemClick$.subscribe(()=>this.close())),this.closeSubscription.add(this.ngZone.runOutsideAngular(()=>p(f(document,"click").pipe(h(r=>!!this.overlayRef&&!this.overlayRef.overlayElement.contains(r.target)),h(r=>r.button!==2)),f(document,"keydown").pipe(h(r=>r.key==="Escape"))).pipe(Z()).subscribe(()=>this.ngZone.run(()=>this.close())))),this.overlayRef.attach(new _(t.templateRef,t.viewContainerRef))}close(i=!1){this.overlayRef&&(this.overlayRef.detach(),i&&this.overlayRef.dispose(),this.overlayRef=null,this.closeSubscription.unsubscribe())}};e.\u0275fac=function(t){return new(t||e)(V(J),V(P))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:De});let n=e;return n})();export{pt as a,ut as b,mt as c,ft as d,vt as e};
