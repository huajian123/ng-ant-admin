import{d as h}from"./chunk-NGTZY5Y2.js";import{O as d,da as u,i as c,qa as y,wa as f}from"./chunk-PHCOYEBV.js";import{a as n,b as l}from"./chunk-VB56BUGO.js";var o=class o{constructor(){this.list={};this.cached={};this._notify=new c([]);this.doc=f(h)}get change(){return this._notify.asObservable().pipe(u(),d(e=>e.length!==0))}clear(){this.list={},this.cached={}}load(e){Array.isArray(e)||(e=[e]);let s=[];return e.forEach(r=>{r.endsWith(".js")?s.push(this.loadScript(r)):s.push(this.loadStyle(r))}),Promise.all(s).then(r=>(this._notify.next(r),Promise.resolve(r)))}loadScript(e,s){return new Promise(r=>{if(this.list[e]===!0){r(l(n({},this.cached[e]),{status:"loading"}));return}this.list[e]=!0;let a=i=>{this.cached[e]=i,r(i),this._notify.next([i])},t=this.doc.createElement("script");t.type="text/javascript",t.src=e,t.charset="utf-8",s&&(t.innerHTML=s),t.readyState?t.onreadystatechange=()=>{(t.readyState==="loaded"||t.readyState==="complete")&&(t.onreadystatechange=null,a({path:e,status:"ok"}))}:t.onload=()=>a({path:e,status:"ok"}),t.onerror=i=>a({path:e,status:"error",error:i}),this.doc.getElementsByTagName("head")[0].appendChild(t)})}loadStyle(e,s="stylesheet",r){return new Promise(a=>{if(this.list[e]===!0){a(this.cached[e]);return}this.list[e]=!0;let t=this.doc.createElement("link");t.rel=s,t.type="text/css",t.href=e,r&&(t.innerHTML=r),this.doc.getElementsByTagName("head")[0].appendChild(t);let i={path:e,status:"ok"};this.cached[e]=i,a(i)})}};o.\u0275fac=function(s){return new(s||o)},o.\u0275prov=y({token:o,factory:o.\u0275fac,providedIn:"root"});var m=o;export{m as a};
