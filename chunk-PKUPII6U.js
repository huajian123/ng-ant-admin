import{a as me}from"./chunk-CX4Z4OOV.js";import{a as he}from"./chunk-UYI573E5.js";import"./chunk-O2WPPUR2.js";import"./chunk-CLJGZU7Y.js";import{a as ne}from"./chunk-XSQZ233G.js";import{f as ce,g as ue}from"./chunk-YGFGTHXD.js";import"./chunk-HDT4KMAI.js";import"./chunk-IRQU3GS3.js";import{a as re,b as se,c as ae,d as de,e as le}from"./chunk-23ZTSX7W.js";import"./chunk-VNID2NCF.js";import"./chunk-KZXNDGZT.js";import{a as X,e as H,g as Z,h as q,l as Y,o as W,r as J,v as Q,w as C,x as ee}from"./chunk-WL72DHP4.js";import"./chunk-BE5UFXKQ.js";import"./chunk-AOHLMCKO.js";import{a as te,b as oe,c as ie}from"./chunk-JG7PDFQU.js";import"./chunk-LMT2TBSV.js";import"./chunk-7PKCM743.js";import"./chunk-MCCZJH2J.js";import"./chunk-S2KEA7XP.js";import"./chunk-NYWSPOYR.js";import"./chunk-ZGT77FDO.js";import"./chunk-TLY6E2EZ.js";import"./chunk-I3AI2SV7.js";import{C as V,E as $}from"./chunk-ZWOUEGUH.js";import{Aa as m,Ac as S,Ca as U,Eb as T,I as R,Ic as G,Jc as g,K as y,Kb as j,Ob as h,Qb as a,Uc as K,V as P,Va as A,W as I,Xa as e,Zb as k,ab as B,cc as p,dc as b,ea as O,ec as f,g as _,ia as E,pa as F,ta as N,ub as c,vb as u,wa as x,zc as L}from"./chunk-XNENNAZS.js";import{a as D,b as z}from"./chunk-VB56BUGO.js";function be(n,o){}var w=()=>{let n=typeof window<"u"?window:void 0;return n&&n.tinymce?n.tinymce:null},Se=(()=>{class n{constructor(){this.onBeforePaste=new e,this.onBlur=new e,this.onClick=new e,this.onContextMenu=new e,this.onCopy=new e,this.onCut=new e,this.onDblclick=new e,this.onDrag=new e,this.onDragDrop=new e,this.onDragEnd=new e,this.onDragGesture=new e,this.onDragOver=new e,this.onDrop=new e,this.onFocus=new e,this.onFocusIn=new e,this.onFocusOut=new e,this.onKeyDown=new e,this.onKeyPress=new e,this.onKeyUp=new e,this.onMouseDown=new e,this.onMouseEnter=new e,this.onMouseLeave=new e,this.onMouseMove=new e,this.onMouseOut=new e,this.onMouseOver=new e,this.onMouseUp=new e,this.onPaste=new e,this.onSelectionChange=new e,this.onActivate=new e,this.onAddUndo=new e,this.onBeforeAddUndo=new e,this.onBeforeExecCommand=new e,this.onBeforeGetContent=new e,this.onBeforeRenderUI=new e,this.onBeforeSetContent=new e,this.onChange=new e,this.onClearUndos=new e,this.onDeactivate=new e,this.onDirty=new e,this.onExecCommand=new e,this.onGetContent=new e,this.onHide=new e,this.onInit=new e,this.onInitNgModel=new e,this.onLoadContent=new e,this.onNodeChange=new e,this.onPostProcess=new e,this.onPostRender=new e,this.onPreInit=new e,this.onPreProcess=new e,this.onProgressState=new e,this.onRedo=new e,this.onRemove=new e,this.onReset=new e,this.onResizeEditor=new e,this.onSaveContent=new e,this.onSetAttrib=new e,this.onObjectResizeStart=new e,this.onObjectResized=new e,this.onObjectSelected=new e,this.onSetContent=new e,this.onShow=new e,this.onSubmit=new e,this.onUndo=new e,this.onVisualAid=new e}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=U({type:n,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),n})(),pe=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],v=(n,o,t)=>y(n,o).pipe(E(t)),Me=(n,o,t)=>{De(n).forEach(s=>{let i=n[s];v(o,s.substring(2),t).subscribe(d=>{i.observers.length>0&&n.ngZone.run(()=>i.emit({event:d,editor:o}))})})},De=n=>{let o=fe(n.ignoreEvents,[]);return fe(n.allowedEvents,pe).filter(r=>pe.includes(r)&&!o.includes(r))},fe=(n,o)=>typeof n=="string"?n.split(",").map(t=>t.trim()):Array.isArray(n)?n:o,ge=0,ze=n=>{let t=new Date().getTime(),r=Math.floor(Math.random()*1e9);return ge++,n+"_"+r+ge+String(t)},Ce=n=>typeof n<"u"&&n.tagName.toLowerCase()==="textarea",we=n=>typeof n>"u"||n===""?[]:Array.isArray(n)?n:n.split(" "),_e=(n,o)=>we(n).concat(we(o)),Re=()=>{},ve=n=>n==null,ye=()=>({script$:null}),Pe=()=>{let n=ye();return{load:(r,s)=>n.script$||(n.script$=R(()=>{let i=r.createElement("script");return i.referrerPolicy="origin",i.type="application/javascript",i.src=s,r.head.appendChild(i),y(i,"load").pipe(P(1),I(void 0))}).pipe(O({bufferSize:1,refCount:!0}))),reinitialize:()=>{n=ye()}}},Ie=Pe(),Oe=new N("TINYMCE_SCRIPT_SRC"),Fe={provide:X,useExisting:F(()=>M),multi:!0},M=(()=>{class n extends Se{constructor(t,r,s,i){super(),this.platformId=s,this.tinymceScriptSrc=i,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=Re,this.destroy$=new _,this.initialise=()=>{let d=z(D({},this.init),{selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:_e(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:l=>{this._editor=l,v(l,"init",this.destroy$).subscribe(()=>{this.initEditor(l)}),Me(this,l,this.destroy$),this.init&&typeof this.init.setup=="function"&&this.init.setup(l)}});Ce(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{w().init(d)})},this._elementRef=t,this.ngZone=r}set disabled(t){this._disabled=t,this._editor&&this._editor.initialized&&(typeof this._editor.mode?.set=="function"?this._editor.mode.set(t?"readonly":"design"):this._editor.setMode(t?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(t){this._editor&&this._editor.initialized?this._editor.setContent(ve(t)?"":t):this.initialValue=t===null?void 0:t}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.disabled=t}ngAfterViewInit(){$(this.platformId)&&(this.id=this.id||ze("tiny-angular"),this.inline=this.inline!==void 0?this.inline!==!1:!!this.init?.inline,this.createElement(),w()!==null?this.initialise():this._element&&this._element.ownerDocument&&Ie.load(this._element.ownerDocument,this.getScriptSrc()).pipe(E(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),w()!==null&&w().remove(this._editor)}createElement(){let t=typeof this.tagName=="string"?this.tagName:"div";this._element=document.createElement(this.inline?t:"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,Ce(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return ve(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(t){v(t,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),v(t,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(t))}),typeof this.initialValue=="string"&&this.ngZone.run(()=>{t.setContent(this.initialValue),t.getContent()!==this.initialValue&&this.emitOnChange(t),this.onInitNgModel!==void 0&&this.onInitNgModel.emit(t)})}emitOnChange(t){this.onChangeCallback&&this.onChangeCallback(t.getContent({format:this.outputFormat}))}}return n.\u0275fac=function(t){return new(t||n)(u(A),u(T),u(B),u(Oe,8))},n.\u0275cmp=m({type:n,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[G([Fe]),j,g],decls:1,vars:0,template:function(t,r){t&1&&h(0,be,0,0,"ng-template")},dependencies:[V,C],styles:["[_nghost-%COMP%]{display:block}"]}),n})();function Ne(n,o){n&1&&S(0," \u5FC5\u586B\u9879 ")}function xe(n,o){if(n&1&&h(0,Ne,1,0),n&2){let t=o.$implicit;k(t.hasError("required")?0:-1)}}var mn=(()=>{let o=class o{constructor(){this.fb=x(Q),this.pageHeaderInfo={title:"\u5BCC\u6587\u672C\uFF0C\u4EBA\u4EEC\u603B\u662F\u559C\u6B22\u7528\u82B1\u91CC\u80E1\u54E8\u7684\u6587\u5B57\uFF0C\u8868\u8FBE\u81EA\u5DF1\u7A7A\u865A\u7684\u60C5\u611F",breadcrumb:["\u9996\u9875","\u6269\u5C55\u529F\u80FD","\u5BCC\u6587\u672C"]},this.localUrl="http://139.9.225.248:8088",this.uploadRichFileUrl=ne.production?`${this.localUrl}/rich-upload`:"/site/rich-upload",this.validateForm=this.fb.group({detail:["",[H.required]]}),this.editInit={images_upload_url:this.uploadRichFileUrl,branding:!1,height:500,convert_urls:!1,menubar:!1,plugins:["image"],fontsize_formats:"12px 14px 16px 18px 24px 36px 48px 56px 72px",language:"zh_CN",toolbar:"|bold|fontselect|fontsizeselect|styleselect|removeformat|aligncenter  alignright alignjustify | image"}}};o.\u0275fac=function(s){return new(s||o)},o.\u0275cmp=m({type:o,selectors:[["app-rich-text"]],standalone:!0,features:[g],decls:12,vars:16,consts:[["combineTpl",""],[3,"pageHeaderInfo"],[1,"normal-table-wrap"],["nz-form","",1,"form-wrap",3,"formGroup"],["nz-col","",3,"nzLg","nzMd","nzSm","nzXl","nzXs","nzXXl"],["nzFor","detail","nzRequired","","nzSpan","24"],[3,"nzErrorTip","nzLg","nzMd","nzSm","nzXl","nzXXl"],["formControlName","detail",3,"apiKey","init"]],template:function(s,i){if(s&1&&(f(0,"app-page-header",1),p(1,"div",2)(2,"nz-card"),f(3,"app-water-mark"),p(4,"form",3)(5,"nz-form-item",4)(6,"nz-form-label",5),S(7,"\u63CF\u8FF0"),b(),p(8,"nz-form-control",6),f(9,"editor",7),b()()()()(),h(10,xe,1,1,"ng-template",null,0,K)),s&2){let d=L(11);a("pageHeaderInfo",i.pageHeaderInfo),c(4),a("formGroup",i.validateForm),c(),a("nzLg",24)("nzMd",24)("nzSm",24)("nzXl",24)("nzXs",24)("nzXXl",24),c(3),a("nzErrorTip",d)("nzLg",18)("nzMd",24)("nzSm",24)("nzXl",18)("nzXXl",18),c(),a("apiKey","95b1w09g3ruzin5ylg5inr4afxzm3oxotroc0ofkh8pwcefz")("init",i.editInit)}},dependencies:[he,ue,ce,me,C,Y,Z,q,le,oe,te,se,re,de,ae,ee,W,J,ie,M],encapsulation:2,changeDetection:0});let n=o;return n})();export{mn as RichTextComponent};
