import{a as f}from"./chunk-VNID2NCF.js";import{a}from"./chunk-XMISJKZ6.js";import{d as l}from"./chunk-ZWOUEGUH.js";import{Ua as n,qa as m,wa as r}from"./chunk-XNENNAZS.js";var S=(()=>{let s=class s{constructor(){this.doc=r(l),this.themesService=r(f),this.destroyRef=r(n),this.themesService.getStyleThemeMode().pipe(a(this.destroyRef)).subscribe(t=>{this.currentStyleThemeModel=t})}removeUnusedTheme(t){let e=this.doc.getElementById(t);e&&(this.doc.documentElement.classList.remove(t),this.doc.head.removeChild(e))}loadCss(t,e){return new Promise((c,d)=>{let o=this.doc.createElement("link");o.rel="stylesheet",o.href=t,o.id=e,o.onload=c,o.onerror=d,this.doc.head.append(o)})}loadTheme(t=!0){let e=this.currentStyleThemeModel;return t&&this.doc.documentElement.classList.add(e),new Promise((c,d)=>{this.loadCss(`${e}.css`,e).then(o=>{t||this.doc.documentElement.classList.add(e),["default","aliyun","compact","dark"].filter(h=>h!==this.currentStyleThemeModel).forEach(h=>{setTimeout(()=>{this.removeUnusedTheme(h)},1)}),c(o)},o=>d(o))})}toggleTheme(){return this.loadTheme(!1)}};s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=m({token:s,factory:s.\u0275fac,providedIn:"root"});let i=s;return i})();export{S as a};
