import{a as fe}from"./chunk-LZZYUYSO.js";import"./chunk-YZQKBSXU.js";import"./chunk-6DGE2S5E.js";import{a as ce,b as pe}from"./chunk-JRXN4BYE.js";import{a as le,b as se,c as T,d as me,e as _,f as de}from"./chunk-PK5Y6STH.js";import{b as re,c as ue,d as ae}from"./chunk-Y7DWSVT7.js";import"./chunk-V6VP5ZUC.js";import{d as Y}from"./chunk-QHSMMPEM.js";import"./chunk-5BCZZY3T.js";import"./chunk-AZDBKI4P.js";import"./chunk-FL7BS3BX.js";import"./chunk-Q5VVKPDT.js";import"./chunk-JS4TD4O2.js";import"./chunk-H5LORQQP.js";import"./chunk-U5DI5JIS.js";import"./chunk-IK75FPLE.js";import"./chunk-BH5DKTT6.js";import"./chunk-NTMY3SYH.js";import{a as ee,b as te,c as ne,d as ie,e as oe}from"./chunk-PRNJDQ6J.js";import"./chunk-ESTIS766.js";import"./chunk-F5ALC7SR.js";import"./chunk-67WDHJZZ.js";import{a as K}from"./chunk-YN3PI5LS.js";import"./chunk-6E3GIBKW.js";import"./chunk-L7ZCTNHS.js";import"./chunk-NGTZY5Y2.js";import{Aa as B,Ac as u,Ca as L,Fc as R,Gc as N,Hc as I,Jc as b,Kb as P,Ma as s,Na as m,Ob as y,Qb as S,Ua as j,Uc as J,cc as o,dc as r,ec as q,fc as O,gc as k,ic as Q,oc as c,qa as C,ub as V,vb as Z,wa as l,wc as G,xc as X,yc as U,z as H,zc as $}from"./chunk-PHCOYEBV.js";import"./chunk-VB56BUGO.js";var D=class D extends ce{constructor(e){super(e);this.modalRef=e;this.nzModalData=l(le);this.messageService=l(Y)}getCurrentValue(){return H(!0)}ngOnInit(){this.messageService.info(`\u8FD9\u662F\u4E00\u4E2A\u4ECE\u5916\u90E8\u4F20\u5165\u5230\u5BF9\u8BDD\u6846\u5230\u6570\u636E\u300B\u300B\u300B\u300B\u300B${this.nzModalData.title}`)}};D.\u0275fac=function(t){return new(t||D)(Z(se))},D.\u0275cmp=B({type:D,selectors:[["app-drag"]],standalone:!0,features:[P,b],decls:18,vars:0,template:function(t,i){t&1&&(o(0,"p"),u(1,"\u4E00\u5207\u90FD\u5C06\u4E00\u53BB\u6773\u7136\uFF0C\u4EFB\u4F55\u4EBA\u90FD\u65E0\u6CD5\u5C06\u5176\u6355\u83B7\u3002\u6211\u4EEC\u4FBF\u662F\u8FD9\u6837\u6D3B\u7740\u3002"),r(),o(2,"p"),u(3,"\u4E00\u5207\u90FD\u5C06\u4E00\u53BB\u6773\u7136\uFF0C\u4EFB\u4F55\u4EBA\u90FD\u65E0\u6CD5\u5C06\u5176\u6355\u83B7\u3002\u6211\u4EEC\u4FBF\u662F\u8FD9\u6837\u6D3B\u7740\u3002"),r(),o(4,"p"),u(5,"\u4E00\u5207\u90FD\u5C06\u4E00\u53BB\u6773\u7136\uFF0C\u4EFB\u4F55\u4EBA\u90FD\u65E0\u6CD5\u5C06\u5176\u6355\u83B7\u3002\u6211\u4EEC\u4FBF\u662F\u8FD9\u6837\u6D3B\u7740\u3002"),r(),o(6,"p"),u(7,"\u4E00\u5207\u90FD\u5C06\u4E00\u53BB\u6773\u7136\uFF0C\u4EFB\u4F55\u4EBA\u90FD\u65E0\u6CD5\u5C06\u5176\u6355\u83B7\u3002\u6211\u4EEC\u4FBF\u662F\u8FD9\u6837\u6D3B\u7740\u3002"),r(),o(8,"p"),u(9,"\u4E00\u5207\u90FD\u5C06\u4E00\u53BB\u6773\u7136\uFF0C\u4EFB\u4F55\u4EBA\u90FD\u65E0\u6CD5\u5C06\u5176\u6355\u83B7\u3002\u6211\u4EEC\u4FBF\u662F\u8FD9\u6837\u6D3B\u7740\u3002"),r(),o(10,"p"),u(11,"\u4E00\u5207\u90FD\u5C06\u4E00\u53BB\u6773\u7136\uFF0C\u4EFB\u4F55\u4EBA\u90FD\u65E0\u6CD5\u5C06\u5176\u6355\u83B7\u3002\u6211\u4EEC\u4FBF\u662F\u8FD9\u6837\u6D3B\u7740\u3002"),r(),o(12,"p"),u(13,"\u4E00\u5207\u90FD\u5C06\u4E00\u53BB\u6773\u7136\uFF0C\u4EFB\u4F55\u4EBA\u90FD\u65E0\u6CD5\u5C06\u5176\u6355\u83B7\u3002\u6211\u4EEC\u4FBF\u662F\u8FD9\u6837\u6D3B\u7740\u3002"),r(),o(14,"p"),u(15,"\u4E00\u5207\u90FD\u5C06\u4E00\u53BB\u6773\u7136\uFF0C\u4EFB\u4F55\u4EBA\u90FD\u65E0\u6CD5\u5C06\u5176\u6355\u83B7\u3002\u6211\u4EEC\u4FBF\u662F\u8FD9\u6837\u6D3B\u7740\u3002"),r(),o(16,"p"),u(17,"\u4E00\u5207\u90FD\u5C06\u4E00\u53BB\u6773\u7136\uFF0C\u4EFB\u4F55\u4EBA\u90FD\u65E0\u6CD5\u5C06\u5176\u6355\u83B7\u3002\u6211\u4EEC\u4FBF\u662F\u8FD9\u6837\u6D3B\u7740\u3002"),r())},encapsulation:2,changeDetection:0});var w=D;var f=class f{constructor(){this.modalWrapService=l(pe)}getContentComponent(){return w}show(n={},e){return this.modalWrapService.show(this.getContentComponent(),n,e)}};f.\u0275fac=function(e){return new(e||f)},f.\u0275prov=C({token:f,factory:f.\u0275fac,providedIn:"root"});var v=f;var p=class p{constructor(){this.modal=l(T);this.dragDrop=l(re)}createDragHandler(n,e){let t=document.querySelector(`.${n}`),i=t.querySelector(".ant-modal-content"),a=e==="confirm"?i.querySelector(".ant-modal-body"):i.querySelector(".ant-modal-header");return this.fixedWrapElementStyle(t),this.setMaxZIndex(i,t),this.dragDrop.createDrag(a).withHandles([a]).withRootElement(i)}getRandomCls(){return p.DRAG_CLS_PREFIX+Date.now()+Math.random().toString().replace("0.","")}fixedWrapElementStyle(n){n.style.pointerEvents="none"}setMaxZIndex(n,e){n.addEventListener("mousedown",()=>{let t=this.getModalMaxZIndex(e);t&&(e.style.zIndex=`${t+1}`)},!1)}getModalMaxZIndex(n){let e=this.getZIndex(n),t=this.modal.openModals.reduce((i,a)=>{let d=(a.containerInstance.host||a.containerInstance.elementRef).nativeElement;if(n===d)return i;let W=this.getZIndex(d);return W>i?W:i},0);return t>=e?t:null}getZIndex(n){return+getComputedStyle(n,null).zIndex}};p.DRAG_CLS_PREFIX="NZ-MODAL-WRAP-CLS-",p.\u0275fac=function(e){return new(e||p)},p.\u0275prov=C({token:p,factory:p.\u0275fac,providedIn:"root"});var E=p;var g=class g{constructor(){this.modalDragService=l(E);this.modal=l(_,{host:!0});let n=this.modalDragService.getRandomCls();this.modal.afterOpen.subscribe(()=>{let e=this.modal.getElement();if(!e||e.className.indexOf(E.DRAG_CLS_PREFIX)!==-1)return;e.classList.add(n);let t=this.modalDragService.createDragHandler(n,this.modal.nzModalType);this.modal.afterClose.subscribe(()=>{t&&!t.dropped&&t.dispose()})})}};g.\u0275fac=function(e){return new(e||g)},g.\u0275dir=L({type:g,selectors:[["nz-modal","nzxModalDrag",""]],standalone:!0});var x=g;var F=class F{constructor(){this.modal=l(T);this.modalDragService=l(E)}create(n){return this.createModalWidthDrag(n,e=>this.modal.create(e))}get openModals(){return this.modal.openModals}get afterAllClosed(){return this.modal._afterAllClosed}closeAll(){this.modal.closeAll()}confirm(n,e){return this.createModalWidthDrag(n,t=>this.modal.confirm(t))}info(n){return this.createModalWidthDrag(n,e=>this.modal.info(e))}success(n){return this.createModalWidthDrag(n,e=>this.modal.success(e))}error(n){return this.createModalWidthDrag(n,e=>this.modal.error(e))}warning(n){return this.createModalWidthDrag(n,e=>this.modal.warning(e))}createModalWidthDrag(n,e){let t=this.modalDragService.getRandomCls(),i=this.createModalConfig(n,t),a=e(i);return a.afterOpen.subscribe(()=>{let d=this.modalDragService.createDragHandler(t,i.nzModalType);a.afterClose.subscribe(()=>{d&&!d.dropped&&d.dispose()})}),a}createModalConfig(n,e){let t={nzMaskClosable:!1,nzTitle:"\u63D0\u793A"},i=n.nzMask===!1?{nzMaskStyle:{display:"none"}}:{},a=Object.assign(t,n,i);return a.nzWrapClassName=`${a.nzWrapClassName||""} ${e}`,a}};F.\u0275fac=function(e){return new(e||F)},F.\u0275prov=C({token:F,factory:F.\u0275fac,providedIn:"root"});var A=F;var De=["dragTpl"];function ge(z,n){z&1&&(O(0),o(1,"p"),u(2,"\u5E8A\u524D\u660E\u6708\u5149"),r(),o(3,"p"),u(4,"\u7591\u4F3C\u5730\u4E0A\u971C"),r(),o(5,"p"),u(6,"\u4E3E\u5934\u671B\u660E\u6708"),r(),o(7,"p"),u(8,"\u4F4E\u5934\u601D\u6545\u4E61"),r(),k())}function Me(z,n){z&1&&(O(0),o(1,"p"),u(2,"\u5E8A\u524D\u660E\u6708\u5149"),r(),o(3,"p"),u(4,"\u7591\u4F3C\u5730\u4E0A\u971C"),r(),o(5,"p"),u(6,"\u4E3E\u5934\u671B\u660E\u6708"),r(),o(7,"p"),u(8,"\u4F4E\u5934\u601D\u6545\u4E61"),r(),k())}function ze(z,n){z&1&&(o(0,"div",7),u(1,"\u8FD9\u662F\u4E00\u4E2A\u53EF\u62D6\u52A8modal"),r())}var M=class M{constructor(){this.pageHeaderInfo={title:"\u62D6\u52A8Modal\uFF0C\u6811\u632A\u6B7B\uFF0C\u4EBA\u632A\u6D3B",breadcrumb:["\u9996\u9875","\u62D6\u62FDmodal"]};this.destroyRef=l(j);this.isVisible=!1;this.isVisibleByDir=!1;this.dragService=l(v);this.modalDragService=l(A)}handleOk(){console.log("Button ok clicked!"),this.isVisible=!1,this.isVisibleByDir=!1}handleCancel(){console.log("Button cancel clicked!"),this.isVisible=!1,this.isVisibleByDir=!1}showDailog1(){this.isVisible=!0}showDailogConfirm(){this.modalDragService.confirm({nzTitle:"Confirm",nzContent:"\u63D0\u793A\u4E00\u4E0B\u7684\u5185\u5BB9",nzOnOk:()=>{console.log("\u786E\u5B9A")},nzOnCancel:()=>{console.log("\u53D6\u6D88")}})}showDailogInfo(){this.modalDragService.info({nzTitle:"Info",nzContent:"\u63D0\u793A\u4E00\u4E0B\u7684\u5185\u5BB9"})}showDailogSuccess(){this.modalDragService.success({nzTitle:"Success",nzContent:"\u63D0\u793A\u4E00\u4E0B\u7684\u5185\u5BB9"})}showDailogError(){this.modalDragService.error({nzTitle:"Error",nzContent:"\u63D0\u793A\u4E00\u4E0B\u7684\u5185\u5BB9"})}showDailogWarning(){this.modalDragService.warning({nzTitle:"Warning",nzContent:"\u63D0\u793A\u4E00\u4E0B\u7684\u5185\u5BB9"})}showDailog(){this.dragService.show({nzTitle:"\u62D6\u52A8\u7684title",nzMask:!1,nzMaskStyle:{display:"none"},nzWrapClassName:"pointer-events-none"},{title:"\u6211\u662F\u4ECE\u5916\u90E8\u4F20\u5165\u5230\u5BF9\u8BDD\u6846\u7684\u53C2\u6570"}).pipe(K(this.destroyRef)).subscribe(({modalValue:n,status:e})=>{e!==0&&console.log(n)})}};M.\u0275fac=function(e){return new(e||M)},M.\u0275cmp=B({type:M,selectors:[["app-ex-modal"]],viewQuery:function(e,t){if(e&1&&G(De,7),e&2){let i;X(i=U())&&(t.dragTpl=i.first)}},standalone:!0,features:[b],decls:24,vars:5,consts:[["dragTpl",""],[3,"pageHeaderInfo"],[1,"normal-table-wrap"],["nz-button","",1,"m-r-8","m-b-8",3,"click"],[3,"nzVisibleChange","nzOnCancel","nzOnOk","nzTitle","nzVisible"],[4,"nzModalContent"],["nzxModalDrag","",3,"nzVisibleChange","nzOnCancel","nzOnOk","nzTitle","nzVisible"],["cdkDrag","","cdkDragBoundary","nz-modal-container","cdkDragHandle","","cdkDragRootElement",".ant-modal-content",1,"hand-model-move"]],template:function(e,t){if(e&1){let i=Q();q(0,"app-page-header",1),o(1,"div",2)(2,"button",3),c("click",function(){return s(i),m(t.showDailog())}),u(3,"\u670D\u52A1\u7684\u65B9\u5F0F\u521B\u5EFA\u81EA\u5B9A\u4E49modal"),r(),o(4,"button",3),c("click",function(){return s(i),m(t.showDailog1())}),u(5,"modal\u6807\u7B7E\u901A\u8FC7\u4F20nzTitle\u6765\u8FDB\u884C\u62D6\u62FD"),r(),o(6,"button",3),c("click",function(){return s(i),m(t.showDailogConfirm())}),u(7,"\u521B\u5EFA\u53EF\u62D6\u52A8\u7684confirm\uFF08by\u5C71\u95F4\u4E4B\u660E\u6708\uFF09"),r(),o(8,"button",3),c("click",function(){return s(i),m(t.showDailogInfo())}),u(9,"\u521B\u5EFA\u53EF\u62D6\u52A8\u7684info\uFF08by\u5C71\u95F4\u4E4B\u660E\u6708\uFF09"),r(),o(10,"button",3),c("click",function(){return s(i),m(t.showDailogSuccess())}),u(11,"\u521B\u5EFA\u53EF\u62D6\u52A8\u7684success\uFF08by\u5C71\u95F4\u4E4B\u660E\u6708\uFF09"),r(),o(12,"button",3),c("click",function(){return s(i),m(t.showDailogError())}),u(13,"\u521B\u5EFA\u53EF\u62D6\u52A8\u7684error\uFF08by\u5C71\u95F4\u4E4B\u660E\u6708\uFF09"),r(),o(14,"button",3),c("click",function(){return s(i),m(t.showDailogWarning())}),u(15,"\u521B\u5EFA\u53EF\u62D6\u52A8\u7684warning\uFF08by\u5C71\u95F4\u4E4B\u660E\u6708\uFF09"),r(),o(16,"button",3),c("click",function(){return s(i),m(t.isVisibleByDir=!0)}),u(17,"\u6307\u4EE4\u521B\u5EFA\uFF08by\u5C71\u95F4\u4E4B\u660E\u6708\uFF09"),r()(),o(18,"nz-modal",4),I("nzVisibleChange",function(d){return s(i),N(t.isVisible,d)||(t.isVisible=d),m(d)}),c("nzOnCancel",function(){return s(i),m(t.handleCancel())})("nzOnOk",function(){return s(i),m(t.handleOk())}),y(19,ge,9,0,"ng-container",5),r(),o(20,"nz-modal",6),I("nzVisibleChange",function(d){return s(i),N(t.isVisibleByDir,d)||(t.isVisibleByDir=d),m(d)}),c("nzOnCancel",function(){return s(i),m(t.handleCancel())})("nzOnOk",function(){return s(i),m(t.handleOk())}),y(21,Me,9,0,"ng-container",5),r(),y(22,ze,2,0,"ng-template",null,0,J)}if(e&2){let i=$(23);S("pageHeaderInfo",t.pageHeaderInfo),V(18),S("nzTitle",i),R("nzVisible",t.isVisible),V(2),S("nzTitle","\u6307\u4EE4\u521B\u5EFA\u53EF\u62D6\u62FD"),R("nzVisible",t.isVisibleByDir)}},dependencies:[fe,oe,ie,ee,te,ne,de,_,me,x,ae,ue],encapsulation:2,changeDetection:0});var Ee=M;export{Ee as ExModalComponent};
