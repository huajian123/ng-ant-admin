import{a}from"./chunk-Q5VVKPDT.js";import{a as h}from"./chunk-YN3PI5LS.js";import{d as c}from"./chunk-NGTZY5Y2.js";import{Ua as d,qa as n,wa as s}from"./chunk-PHCOYEBV.js";var r=class r{constructor(){this.doc=s(c);this.themesService=s(a);this.destroyRef=s(d);this.themesService.getStyleThemeMode().pipe(h(this.destroyRef)).subscribe(t=>{this.currentStyleThemeModel=t})}removeUnusedTheme(t){let e=this.doc.getElementById(t);e&&(this.doc.documentElement.classList.remove(t),this.doc.head.removeChild(e))}loadCss(t,e){return new Promise((i,m)=>{let o=this.doc.createElement("link");o.rel="stylesheet",o.href=t,o.id=e,o.onload=i,o.onerror=m,this.doc.head.append(o)})}loadTheme(t=!0){let e=this.currentStyleThemeModel;return t&&this.doc.documentElement.classList.add(e),new Promise((i,m)=>{this.loadCss(`${e}.css`,e).then(o=>{t||this.doc.documentElement.classList.add(e),["default","aliyun","compact","dark"].filter(l=>l!==this.currentStyleThemeModel).forEach(l=>{setTimeout(()=>{this.removeUnusedTheme(l)},1)}),i(o)},o=>m(o))})}toggleTheme(){return this.loadTheme(!1)}};r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=n({token:r,factory:r.\u0275fac,providedIn:"root"});var y=r;export{y as a};
