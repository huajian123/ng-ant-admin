import{a as I}from"./chunk-UYI573E5.js";import"./chunk-O2WPPUR2.js";import"./chunk-CLJGZU7Y.js";import{a as C}from"./chunk-HYXQY7LQ.js";import{a as R}from"./chunk-2KO7AHLC.js";import"./chunk-XSQZ233G.js";import"./chunk-6G6375XT.js";import{f as H,g as O}from"./chunk-YGFGTHXD.js";import"./chunk-HDT4KMAI.js";import"./chunk-IRQU3GS3.js";import"./chunk-VNID2NCF.js";import"./chunk-LMT2TBSV.js";import"./chunk-7PKCM743.js";import"./chunk-MCCZJH2J.js";import{a as x,b as L,c as A,d as M,e as U}from"./chunk-S2KEA7XP.js";import"./chunk-NYWSPOYR.js";import"./chunk-ZGT77FDO.js";import{a as j}from"./chunk-XMISJKZ6.js";import"./chunk-TLY6E2EZ.js";import"./chunk-I3AI2SV7.js";import"./chunk-ZWOUEGUH.js";import{Aa as T,Ac as v,Jc as _,Qb as k,Ua as B,cc as p,dc as m,ec as z,oc as w,qa as g,wa as f}from"./chunk-XNENNAZS.js";import{e as X,g as G}from"./chunk-VB56BUGO.js";var W=X((D,h)=>{"use strict";(function(a,n){typeof define=="function"&&define.amd?define([],n):typeof D<"u"?n():(n(),a.FileSaver={})})(D,function(){"use strict";function a(e,t){return typeof t>"u"?t={autoBom:!1}:typeof t!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\uFEFF",e],{type:e.type}):e}function n(e,t,c){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){s(o.response,t,c)},o.onerror=function(){console.error("could not download file")},o.send()}function y(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return 200<=t.status&&299>=t.status}function u(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,l=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(e,t,c){var o=i.URL||i.webkitURL,r=document.createElement("a");t=t||e.name||"download",r.download=t,r.rel="noopener",typeof e=="string"?(r.href=e,r.origin===location.origin?u(r):y(r.href)?n(e,t,c):u(r,r.target="_blank")):(r.href=o.createObjectURL(e),setTimeout(function(){o.revokeObjectURL(r.href)},4e4),setTimeout(function(){u(r)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,c){if(t=t||e.name||"download",typeof e!="string")navigator.msSaveOrOpenBlob(a(e,c),t);else if(y(e))n(e,t,c);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout(function(){u(o)})}}:function(e,t,c,o){if(o=o||open("","_blank"),o&&(o.document.title=o.document.body.innerText="downloading..."),typeof e=="string")return n(e,t,c);var r=e.type==="application/octet-stream",P=/constructor/i.test(i.HTMLElement)||i.safari,F=/CriOS\/[\d]+/.test(navigator.userAgent);if((F||r&&P||l)&&typeof FileReader<"u"){var E=new FileReader;E.onloadend=function(){var d=E.result;d=F?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=d:location=d,o=null},E.readAsDataURL(e)}else{var S=i.URL||i.webkitURL,b=S.createObjectURL(e);o?o.location=b:location.href=b,o=null,setTimeout(function(){S.revokeObjectURL(b)},4e4)}});i.saveAs=s.saveAs=s,typeof h<"u"&&(h.exports=s)})});var N=(()=>{let n=class n{constructor(){this.http=f(C)}fileStreamDownload(u){return this.http.downLoadWithBlob("/file/download/document",u,{needSuccessInfo:!1})}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=g({token:n,factory:n.\u0275fac,providedIn:"root"});let a=n;return a})();var q=G(W());var fe=(()=>{let n=class n{constructor(){this.pageHeaderInfo={title:"\u6587\u4EF6\u4E0B\u8F7D",breadcrumb:["\u9996\u9875","\u529F\u80FD","\u6587\u4EF6\u4E0B\u8F7D"],desc:"\u5404\u79CD\u6587\u4EF6\u4E0B\u8F7D"},this.destroyRef=f(B),this.downloadService=f(N)}fileStreamDownload(){let u={downloadUrl:`http://${R}/api/file/\u56FE\u7EB8\u5B9E\u9645\u6750\u6599\u91CF\u5BFC\u5165\u6A21\u677F.xlsx`};this.downloadService.fileStreamDownload(u).pipe(j(this.destroyRef)).subscribe(i=>{let l=new Blob([i],{type:"text/plain;charset=utf-8"});q.default.saveAs(l,"\u6750\u6599\u5E93\u5BFC\u5165\u6A21\u677F.xlsx")})}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=T({type:n,selectors:[["app-download"]],standalone:!0,features:[_],decls:14,vars:1,consts:[[3,"pageHeaderInfo"],[1,"normal-table-wrap"],["nzTitle","\u6839\u636E\u540E\u53F0\u63A5\u53E3\u6587\u4EF6\u6D41\u4E0B\u8F7D",1,"m-b-10"],["nz-button","","nzType","primary",3,"click"],["nzTitle","\u6839\u636E\u6587\u4EF6\u5730\u5740\u4E0B\u8F7D\u6587\u4EF6",1,"m-b-10"],["nzTitle","base64\u6D41\u4E0B\u8F7D",1,"m-b-10"],["nzTitle","\u56FE\u7247Url\u4E0B\u8F7D,\u5982\u679C\u6709\u8DE8\u57DF\u95EE\u9898\uFF0C\u9700\u8981\u5904\u7406\u56FE\u7247\u8DE8\u57DF",1,"m-b-10"]],template:function(i,l){i&1&&(z(0,"app-page-header",0),p(1,"div",1)(2,"nz-card",2)(3,"button",3),w("click",function(){return l.fileStreamDownload()}),v(4,"\u6587\u4EF6\u6D41\u4E0B\u8F7D"),m()(),p(5,"nz-card",4)(6,"button",3),w("click",function(){return l.fileStreamDownload()}),v(7,"\u6587\u4EF6\u5730\u5740\u4E0B\u8F7D"),m()(),p(8,"nz-card",5)(9,"button",3),w("click",function(){return l.fileStreamDownload()}),v(10,"base64\u6D41\u4E0B\u8F7D"),m()(),p(11,"nz-card",6)(12,"button",3),w("click",function(){return l.fileStreamDownload()}),v(13,"\u56FE\u7247Url\u4E0B\u8F7D"),m()()()),i&2&&k("pageHeaderInfo",l.pageHeaderInfo)},dependencies:[I,O,H,U,M,x,L,A],encapsulation:2,changeDetection:0});let a=n;return a})();export{fe as DownloadComponent};
