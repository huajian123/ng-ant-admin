import{a as re,b as ae}from"./chunk-S7T7JYEZ.js";import"./chunk-M6APLIBP.js";import{a as oe}from"./chunk-HPYP3UGD.js";import"./chunk-YZQKBSXU.js";import"./chunk-6DGE2S5E.js";import{a as G}from"./chunk-XSQZ233G.js";import{d as R}from"./chunk-QHSMMPEM.js";import{b as x}from"./chunk-AHKPXNLE.js";import{f as ie,g as ne}from"./chunk-3GMZJHT4.js";import"./chunk-AZDBKI4P.js";import"./chunk-FL7BS3BX.js";import{a as Q,b as Y,c as Z,d as ee,e as te}from"./chunk-4HDWGDFD.js";import"./chunk-NFHEPG3N.js";import"./chunk-OFQES6HH.js";import{d as T,e as A,g as B,h as w,l as L,o as M,r as V,u as U,w as I,x as k}from"./chunk-6GAZF5ON.js";import"./chunk-H5LORQQP.js";import"./chunk-U5DI5JIS.js";import{a as O,b as J,c as K}from"./chunk-F45NW6BW.js";import"./chunk-IK75FPLE.js";import"./chunk-BH5DKTT6.js";import"./chunk-NTMY3SYH.js";import{a as $,b as q,c as P,d as W,e as j}from"./chunk-VPF7NIXW.js";import{ca as H,da as X}from"./chunk-F5ALC7SR.js";import"./chunk-67WDHJZZ.js";import"./chunk-6E3GIBKW.js";import"./chunk-L7ZCTNHS.js";import"./chunk-NGTZY5Y2.js";import{Aa as v,Ac as m,Cc as S,Jc as b,Ma as p,Na as s,Ob as h,Qb as o,Uc as y,Zb as g,cc as a,dc as u,ec as d,ic as N,oc as c,qc as D,ub as n,wa as _,zc as E}from"./chunk-PHCOYEBV.js";import"./chunk-VB56BUGO.js";function me(e,t){if(e&1&&m(0),e&2){let z=D().$implicit;S(" ",z.errors.message," ")}}function ue(e,t){e&1&&m(0," \u5FC5\u586B\u9879 ")}function le(e,t){if(e&1&&h(0,me,1,1)(1,ue,1,0),e&2){let z=t.$implicit;g(z.hasError("message")?0:-1),n(),g(z.hasError("required")?1:-1)}}var Ue=(()=>{let t=class t{constructor(){this.pageHeaderInfo={title:"\u6587\u4EF6\u4E0A\u4F20",breadcrumb:["\u9996\u9875","\u529F\u80FD","\u6587\u4EF6\u4E0A\u4F20"],desc:"\u7B80\u5355\u5F04\u4E00\u4E0B\uFF0C\u8FD4\u56DE\u7684\u90FD\u662F\u670D\u52A1\u5668\u7EDF\u4E00\u8FD4\u56DE\u7684\u6587\u4EF6"},this.uploadUrl=G.production?"/api/file/test/upload/document/":"/site/api/file/test/upload/document/",this.fileList=[],this.fileFormList=[],this.message=_(R),this.fb=_(U)}handleChange(r){r.type==="success"&&r.file.response.code===0&&this.message.success(`\u670D\u52A1\u5668\u4E0A\u8FD4\u56DE\u7684\u6587\u4EF6\u8DEF\u5F84\uFF1A${r.file.response.data.data}`)}uploadFn(r){r.type==="success"&&r.file.response.code===0&&this.validateForm.get("file")?.setValue(r.file.response.data.data)}resetForm(){this.validateForm.reset(),this.fileFormList=[]}submitForm(){x(this.validateForm)}initForm(){this.validateForm=this.fb.group({file:[null,[A.required]]})}ngOnInit(){this.initForm()}};t.\u0275fac=function(f){return new(f||t)},t.\u0275cmp=v({type:t,selectors:[["app-upload"]],standalone:!0,features:[b],decls:27,vars:22,consts:[["combineTpl",""],[3,"pageHeaderInfo"],[1,"normal-table-wrap"],["nzTitle","\u7B80\u5355\u5B9E\u4F8B\uFF0C\u670D\u52A1\u5668\u8FD4\u56DE\u7684\u6587\u4EF6\u5730\u5740\u7EDF\u4E00\uFF0C\u6F14\u793A\u529F\u80FD\u4E0D\u4F1A\u4FDD\u5B58\u4E0A\u4F20\u7684\u6587\u4EF6"],[3,"nzChange","nzAction","nzFileList","nzLimit","nzName","nzShowButton","nzSize"],["nz-button",""],["nz-icon","","nzType","upload"],["nzTitle","\u5D4C\u5165\u8868\u5355\uFF0C\u52A0\u5165\u8868\u5355\u9A8C\u8BC1",1,"m-t-20"],["nz-form","","nzLayout","vertical",3,"formGroup"],["nz-col","","nzSpan","24"],[3,"nzErrorTip","nzSm","nzXs"],[3,"nzSm","nzXs"],[3,"nzChange","nzAction","nzFileList","nzLimit","nzName","nzSize"],["formControlName","file",3,"hidden"],["nz-row","",1,"m-t-20"],[3,"nzSpan"],["nz-button","","nzType","primary",3,"click"],["nz-button","","nzType","default",1,"m-l-10",3,"click"]],template:function(f,i){if(f&1){let l=N();d(0,"app-page-header",1),a(1,"div",2)(2,"nz-card",3)(3,"nz-upload",4),c("nzChange",function(C){return p(l),s(i.handleChange(C))}),a(4,"button",5),d(5,"i",6),m(6," \u5BFC\u5165\u6750\u6599(\u6700\u5927\u6D4B\u8BD5\u4E0A\u4F205M) "),u()()(),a(7,"nz-card",7)(8,"form",8)(9,"nz-form-item",9)(10,"nz-form-control",10)(11,"nz-form-label",11),m(12,"\u9644\u4EF6\uFF1A"),u(),a(13,"nz-form-control",11)(14,"nz-upload",12),c("nzChange",function(C){return p(l),s(i.uploadFn(C))}),a(15,"button",5),d(16,"i",6),m(17," \u4E0A\u4F20\u9644\u4EF6(\u6700\u5927\u6D4B\u8BD5\u4E0A\u4F205M) "),u(),d(18,"input",13),u()()(),a(19,"nz-form-item",14)(20,"nz-form-control",15)(21,"button",16),c("click",function(){return p(l),s(i.submitForm())}),m(22,"\u63D0\u4EA4"),u(),a(23,"button",17),c("click",function(){return p(l),s(i.resetForm())}),m(24,"\u91CD\u7F6E"),u()()()()()()(),h(25,le,2,2,"ng-template",null,0,y)}if(f&2){let l=E(26);o("pageHeaderInfo",i.pageHeaderInfo),n(3),o("nzAction",i.uploadUrl)("nzFileList",i.fileList)("nzLimit",1)("nzName","document")("nzShowButton",!0)("nzSize",1024*5),n(5),o("formGroup",i.validateForm),n(2),o("nzErrorTip",l)("nzSm",6)("nzXs",24),n(),o("nzSm",14)("nzXs",24),n(2),o("nzSm",14)("nzXs",24),n(),o("nzAction",i.uploadUrl)("nzFileList",i.fileFormList)("nzLimit",1)("nzName","document")("nzSize",1024*5),n(4),o("hidden",!0),n(2),o("nzSpan",14)}},dependencies:[oe,ne,ie,ae,re,j,W,$,q,P,X,H,I,L,T,B,w,te,J,O,Y,Q,ee,Z,k,M,V,K],encapsulation:2,changeDetection:0});let e=t;return e})();export{Ue as UploadComponent};
